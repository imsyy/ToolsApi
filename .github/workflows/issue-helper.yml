name: Issue Helper

on:
  issues:
    types: [opened, labeled]

# æƒé™é…ç½®
permissions:
  issues: write

jobs:
  issue-handler:
    runs-on: ubuntu-latest
    steps:
      # è‡ªåŠ¨æ¬¢è¿
      - name: Welcome Comment
        if: github.event_name == 'issues' && github.event.action == 'opened'
        uses: actions-cool/issues-helper@v3
        with:
          actions: "create-comment"
          token: ${{ secrets.GITHUB_TOKEN }}
          body: |
            ğŸ‘‹ æ‚¨å¥½ @${{ github.actor }}ï¼Œæ„Ÿè°¢æäº¤ Issueï¼
            ğŸš€ æˆ‘ä»¬å·²ç»æ”¶åˆ°æ‚¨çš„åé¦ˆï¼Œä¼šå°½å¿«ç¡®è®¤ä½ çš„é—®é¢˜

            åœ¨ç­‰å¾…å›å¤æœŸé—´ï¼Œæ‚¨å¯ä»¥ï¼š
              - ğŸ“– æŸ¥çœ‹ [é¡¹ç›®æ–‡æ¡£](https://github.com/imsyy/SPlayer/blob/dev/README.md)
              - ğŸ’¬ åŠ å…¥ [äº¤æµç¾¤](https://qm.qq.com/cgi-bin/qm/qr?k=2-cVSf1bE0AvAehCib00qFEFdUvPaJ_k&jump_from=webapi&authKey=1NEhib9+GsmsXVo2rCc0IbRaVHeeRXJJ0gbsyKDcIwDdAzYySOubkFCvkV32+7Cw) è¿›è¡Œå®æ—¶è®¨è®º
              - ğŸ” æœç´¢ [ç°æœ‰ Issues](https://github.com/imsyy/SPlayer/issues) æŸ¥çœ‹æ˜¯å¦æœ‰ç±»ä¼¼é—®é¢˜
      # è‡ªåŠ¨å…³é—­
      - name: Auto Close
        if: github.event.action == 'labeled' && contains(fromJSON('["ä¸ä¼šä¿®å¤", "æ— æ•ˆ", "é‡å¤"]'), github.event.label.name)
        uses: actions-cool/issues-helper@v3
        with:
          actions: "create-comment, close-issue"
          token: ${{ secrets.GITHUB_TOKEN }}
          body: |
            æŠ±æ­‰ï¼Œç”±äºè¯¥ Issue è¢«æ ‡è®°ä¸º **${{ github.event.label.name }}**ï¼Œç³»ç»Ÿå°†è‡ªåŠ¨å°†å…¶å…³é—­
            å¦‚æœæ‚¨è®¤ä¸ºè¯¥ Issue ä»ç„¶æœ‰æ•ˆï¼Œè¯·é‡æ–°å¼€å¯æˆ–è€…åˆ›å»ºæ–°çš„ Issueï¼Œæˆ‘ä»¬ä¼šå°½å¿«ç¡®è®¤å¹¶ä¿®å¤
      # æœ‰é—®é¢˜å›å¤
      - name: Auto Reply
        if: github.event.action == 'labeled' && github.event.label.name == 'æœ‰é—®é¢˜'
        uses: actions-cool/issues-helper@v3
        with:
          actions: "create-comment"
          token: ${{ secrets.GITHUB_TOKEN }}
          body: |
            ğŸ¤ æ‚¨å¥½ @${{ github.actor }}ï¼Œæ„Ÿè°¢æ‚¨çš„åé¦ˆï¼æˆ‘ä»¬æ³¨æ„åˆ°è¯¥é—®é¢˜è¢«æ·»åŠ äº† **${{ github.event.label.name }}**
            ç”±äºç¼ºå°‘å¤ç°æ­¥éª¤ï¼Œæˆ‘ä»¬æ— æ³•é‡ç°é—®é¢˜ï¼Œå› æ­¤æ— æ³•ä¿®å¤
            è¯·ç¡®ä¿æ‚¨å·²ç»è¯¦ç»†æè¿°äº†é—®é¢˜çš„å¤ç°æ­¥éª¤ï¼Œç»´æŠ¤å›¢é˜Ÿä¼šå°½å¿«æŸ¥çœ‹
      # å·²ç¡®è®¤ BUG
      - name: Auto Confirm BUG
        if: github.event.action == 'labeled' && github.event.label.name == 'BUG'
        uses: actions-cool/issues-helper@v3
        with:
          actions: "remove-labels, create-comment"
          token: ${{ secrets.GITHUB_TOKEN }}
          labels: "æœ‰é—®é¢˜"
          body: |
            ğŸ¤ æ‚¨å¥½ @${{ github.actor }}ï¼Œæ„Ÿè°¢æ‚¨çš„åé¦ˆï¼æˆ‘ä»¬å·²ç»ç¡®è®¤è¯¥é—®é¢˜ï¼Œå¹¶å°†åœ¨ä¸‹ä¸€ä¸ªç‰ˆæœ¬ä¸­ä¿®å¤
      # å·²ä¿®å¤
      - name: Auto Fixed
        if: github.event.action == 'labeled' && github.event.label.name == 'å·²ä¿®å¤'
        uses: actions-cool/issues-helper@v3
        with:
          actions: "create-comment, remove-labels, close-issue"
          token: ${{ secrets.GITHUB_TOKEN }}
          labels: "BUG"
          close-reason: "completed"
          body: |
            ğŸ‰ æ‚¨å¥½ @${{ github.actor }}ï¼Œè¯¥é—®é¢˜å·²ä¿®å¤ï¼Œæ„Ÿè°¢æ‚¨çš„åé¦ˆï¼

            è‹¥æ‚¨è§‰å¾—ä»å­˜åœ¨é—®é¢˜ï¼Œè¯·é‡æ–°å¼€å¯æˆ–è€…åˆ›å»ºæ–°çš„ Issueï¼Œæˆ‘ä»¬ä¼šå°½å¿«ç¡®è®¤å¹¶ä¿®å¤
